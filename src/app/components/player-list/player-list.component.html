<div class="d-flex flex-column w-100">
  <div class="d-flex flex-row mx-auto p-3 player-list-toggle" (click)="togglePlayerList()">
    @if (playerListOpened()) {
      <span>Close</span>
    } @else {
      <span>Open</span>
    }
  </div>

  <div class="d-flex flex-row w-100 overflow-y-auto player-list-container" [ngClass]="playerListOpened()? 'opened': 'closed'">
    @for (player of playerService.players(); track player) {

    <div class="d-flex flex-column player-card p-4 gap-2" (click)="selectPlayer(player)" [ngClass]="playerSelected(player)? 'selected':null">
      <span style="font-size: 2rem; color: lightgray" class="align-self-center">{{player.number}}</span>
      <span style="text-align: center;">{{player.name}}</span>
    </div>

  }
  </div>

</div>

<!--  <div class="player-list-grid" cdkScrollable>-->
<!--    <div cdkDropList-->
<!--         cdkDropListHasAnchor-->
<!--         cdkDropListSortingDisabled-->
<!--         class="d-flex flex-wrap gap-2"-->
<!--         [cdkDropListData]="gameService.players"-->
<!--    >-->
<!--      @for (player of gameService.players(); track player.number) {-->

<!--        <mat-card-->
<!--          class="player-card p-2 position-relative"-->
<!--          [ngClass]="{'libero': player.isLibero}"-->
<!--          cdkDrag-->
<!--          [cdkDragData]="player"-->
<!--        >-->

<!--          <div *cdkDragPreview>-->
<!--            <div class="d-flex mx-4 preview-box">-->
<!--              <span>{{player.number}}</span>-->
<!--            </div>-->
<!--          </div>-->

<!--          <mat-card-content class="d-flex flex-column">-->
<!--            <div class="d-flex align-items-center mb-1 justify-content-between">-->
<!--              <div class="d-flex align-items-center">-->
<!--                <div class="player-number me-2">{{ player.number }}</div>-->
<!--                <div class="player-name">{{ player.name }}</div>-->
<!--              </div>-->

<!--              <button mat-icon-button color="warn" (click)="gameService.removePlayer(player.number)">-->
<!--                <mat-icon>delete</mat-icon>-->
<!--              </button>-->
<!--            </div>-->

<!--            <div class="player-stats d-flex justify-content-between flex-wrap">-->
<!--              @if (gameService.playerStats().get(player.number); as stats) {-->
<!--                <div>H: {{ stats?.hits ?? 0 }}</div>-->
<!--                <div>K: {{ stats?.kills ?? 0 }}</div>-->
<!--                <div>E: {{ stats?.attackErrors ?? 0 }}</div>-->
<!--                <div>B: {{ stats?.blocks ?? 0 }}</div>-->
<!--                <div>S: {{ stats?.serveErrors ?? 0 }}</div>-->
<!--              }-->
<!--            </div>-->
<!--          </mat-card-content>-->
<!--        </mat-card>-->

<!--      }-->
<!--    </div>-->
<!--  </div>-->
